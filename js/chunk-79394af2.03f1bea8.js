(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79394af2"],{"109a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container main-container"},[a("div",{staticClass:"row"},[a("SideNavBar",{staticClass:"col-sm-3",on:{"after-create-tweet":t.afterCreateTweet}}),a("div",{staticClass:"col-sm-5 p-0 border main-component"},[a("TopNavBar",{attrs:{msg:"通知",show:!1}}),a("div",{staticClass:"tweets-container"})],1),a("div",{staticClass:"col-sm-4"},[a("RecFollowingList")],1)],1)])},r=[],i=a("1da1"),s=a("5530"),c=(a("96cf"),a("4e82"),a("a4d3"),a("e01a"),a("b0c0"),a("d81d"),a("56e4")),o=a("f250"),d=a("ab4f"),u=a("6783"),l=a("2fa3"),f=a("2f62"),w={name:"main-tweets",components:{SideNavBar:c["a"],RecFollowingList:o["a"],TopNavBar:d["a"]},data:function(){return{tweets:[],modalContent:{},isLoading:!0}},created:function(){this.fetchTweets()},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{fetchTweets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getTweets();case 3:a=e.sent,n=a.data,t.tweets=n,t.tweets.sort((function(t,e){var a=new Date(t.createdAt),n=new Date(e.createdAt);return n.getTime()-a.getTime()})),t.isLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isLoading=!1,l["a"].fire({icon:"error",title:"目前無法取得推文資料，請稍後再試"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},afterCreateTweet:function(t){var e=t.description,a=t.id;this.tweets.unshift({id:a,User:{id:this.currentUser.id,name:this.currentUser.name,account:this.currentUser.account,avatar:this.currentUser.avatar},description:e,createdAt:new Date,isLiked:!1,totalLikes:0,totalReplies:0})},afterClickModal:function(t){this.modalContent=Object(s["a"])(Object(s["a"])({},this.modalContent),t)},changeReplyCount:function(t){this.tweets.map((function(e){e.id===t&&(e.totalReplies+=1)}))}}},m=w,p=(a("d14c"),a("2877")),h=Object(p["a"])(m,n,r,!1,null,"37759a54",null);e["default"]=h.exports},"559e":function(t,e,a){},d14c:function(t,e,a){"use strict";a("559e")}}]);
//# sourceMappingURL=chunk-79394af2.03f1bea8.js.map