(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f8eee5e"],{"07d5":function(e,t,r){},"08fb":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"nav nav-tabs"},e._l(e.tabs,(function(t){return r("li",{key:t.id,staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.path}},[e._v(" "+e._s(t.title)+" ")])],1)})),0)},o=[],s=(r("a9e3"),r("d81d"),r("11c1")),n={name:"TwittererNavPills",props:{id:{type:Number,required:!0}},watch:{id:{handler:function(){var e=this;this.tabs.map((function(t){return t.path.params.id=e.id}))}}},data:function(){return{tabs:[{id:Object(s["v4"])(),title:"跟隨者",path:{name:"user-followers",params:{id:this.id}}},{id:Object(s["v4"])(),title:"正在跟隨",path:{name:"user-followings",params:{id:this.id}}}]}}},i=n,l=(r("2ce4"),r("2877")),c=Object(l["a"])(i,a,o,!1,null,"2c3a3767",null);t["a"]=c.exports},"11c1":function(e,t,r){var a=r("c437"),o=r("c64e"),s=o;s.v1=a,s.v4=o,e.exports=s},2366:function(e,t){for(var r=[],a=0;a<256;++a)r[a]=(a+256).toString(16).substr(1);function o(e,t){var a=t||0,o=r;return[o[e[a++]],o[e[a++]],o[e[a++]],o[e[a++]],"-",o[e[a++]],o[e[a++]],"-",o[e[a++]],o[e[a++]],"-",o[e[a++]],o[e[a++]],"-",o[e[a++]],o[e[a++]],o[e[a++]],o[e[a++]],o[e[a++]],o[e[a++]]].join("")}e.exports=o},"2ce4":function(e,t,r){"use strict";r("07d5")},"771a":function(e,t,r){"use strict";r("aefe")},"8fa4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container main-container"},[r("div",{staticClass:"row"},[r("SideNavBar",{staticClass:"col-3 border-end"}),r("div",{staticClass:"col-5 p-0 main-container"},[r("TopNavBar",{staticClass:"border-bottom-0",attrs:{msg:e.User.name,show:!0,"total-tweets":e.User.totalTweets}}),r("TwittererFollowNavPills",{attrs:{id:e.User.id}}),e._l(e.followers,(function(t){return r("TwittererFollowTable",{key:t.id,attrs:{"initial-data":t},on:{"after-delete-follow-main":e.afterDeleteFollowMain,"after-add-follow-main":e.afterAddFollowMain}})})),r("div",{staticClass:"followers-container"})],2),r("div",{staticClass:"col-4 border-start"},[r("RecFollowingList",{attrs:{"remove-follow-id":e.removeFollowId,"add-follow-id":e.addFollowId},on:{"after-add-follow":e.afterAddFollow,"after-delete-follow":e.afterDeleteFollow}})],1)],1)])},o=[],s=r("1da1"),n=r("5530"),i=(r("96cf"),r("b0c0"),r("d81d"),r("56e4")),l=r("ab4f"),c=r("f250"),u=r("08fb"),f=r("ee3f"),d=r("4cce"),w=r("2fa3"),v=r("2f62"),m={name:"UserProfileFollowers",components:{SideNavBar:i["a"],RecFollowingList:c["a"],TopNavBar:l["a"],TwittererFollowNavPills:u["a"],TwittererFollowTable:f["a"]},data:function(){return{User:{id:-1,name:"",account:"",avatar:"",bio:"",isFollowed:!0},followers:[],removeFollowId:0,addFollowId:0}},computed:Object(n["a"])({},Object(v["b"])(["currentUser"])),created:function(){var e=this.$route.params.id;this.fetchUser(e),this.fetchFollowers(e)},beforeRouteUpdate:function(e,t,r){var a=e.params.id;this.fetchUser(a),this.fetchFollowers(a),r()},methods:{fetchUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o,s,i,l,c,u,f,v,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUser({userId:e});case 3:if(a=r.sent,o=a.data,s=a.statusText,"OK"===s){r.next=8;break}throw new Error(o.message);case 8:i=o.id,l=o.account,c=o.name,u=o.totalFollowers,f=o.totalFollowings,v=o.totalTweets,m=o.isFollowing,t.User=Object(n["a"])(Object(n["a"])({},t.User),{},{id:i,name:c,account:l,totalFollowers:u,totalFollowings:f,totalTweets:v,isFollowing:m}),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),w["a"].fire({icon:"error",title:"無法取得資料，請稍後再試。"});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},fetchFollowers:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUserFollowers({userId:e});case 3:a=r.sent,o=a.data,o.map((function(e){var r=e.followerId,a=e.name,o=e.account,s=e.avatar,n=e.bio,i=e.isFollowing;t.followers.push({id:r,name:a,account:o,avatar:s,bio:n,isFollowing:i})})),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),w["a"].fire({icon:"error",title:"無法取得追隨者資料，請稍後再試。"});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},afterAddFollow:function(e){this.followers.map((function(t){t.id===e&&(t.isFollowing=1)}))},afterDeleteFollow:function(e){this.followers.map((function(t){t.id===e&&(t.isFollowing=0)}))},afterAddFollowMain:function(e){this.addFollowId=e},afterDeleteFollowMain:function(e){this.removeFollowId=e}}},p=m,b=(r("771a"),r("2877")),h=Object(b["a"])(p,a,o,!1,null,"76c6a853",null);t["default"]=h.exports},aefe:function(e,t,r){},c437:function(e,t,r){var a,o,s=r("e1f4"),n=r("2366"),i=0,l=0;function c(e,t,r){var c=t&&r||0,u=t||[];e=e||{};var f=e.node||a,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var w=s();null==f&&(f=a=[1|w[0],w[1],w[2],w[3],w[4],w[5]]),null==d&&(d=o=16383&(w[6]<<8|w[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,p=v-i+(m-l)/1e4;if(p<0&&void 0===e.clockseq&&(d=d+1&16383),(p<0||v>i)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=v,l=m,o=d,v+=122192928e5;var b=(1e4*(268435455&v)+m)%4294967296;u[c++]=b>>>24&255,u[c++]=b>>>16&255,u[c++]=b>>>8&255,u[c++]=255&b;var h=v/4294967296*1e4&268435455;u[c++]=h>>>8&255,u[c++]=255&h,u[c++]=h>>>24&15|16,u[c++]=h>>>16&255,u[c++]=d>>>8|128,u[c++]=255&d;for(var g=0;g<6;++g)u[c+g]=f[g];return t||n(u)}e.exports=c},c64e:function(e,t,r){var a=r("e1f4"),o=r("2366");function s(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var i=0;i<16;++i)t[s+i]=n[i];return t||o(n)}e.exports=s},cded:function(e,t,r){"use strict";r("ce84")},ce84:function(e,t,r){},e1f4:function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var a=new Uint8Array(16);e.exports=function(){return r(a),a}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},ee3f:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"follower-container"},[r("div",{staticClass:"avatar"},[r("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.follower.id}}}},[r("img",{attrs:{src:e._f("emptyImage")(e.follower.avatar),alt:""}})])],1),r("div",{staticClass:"follower-info"},[r("div",{staticClass:"isfollowed-info"},[r("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.follower.id}}}},[r("div",{staticClass:"follower-title"},[r("div",{staticClass:"name text-dark"},[e._v(e._s(e.follower.name))]),r("div",{staticClass:"account"},[e._v(e._s(e.follower.account))])])]),e.follower.id!==e.currentUser.id?r("div",{staticClass:"toggleFollow"},[1===e.follower.isFollowing?r("button",{staticClass:"btn isFollowing",attrs:{disabled:e.status.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unfollowUser(e.follower.id)}}},[e._v(" 正在跟隨 ")]):r("button",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.followUser(e.follower.id)}}},[e._v(" 跟隨 ")])]):e._e()],1),r("p",[e._v(e._s(e.follower.bio))])])])])},o=[],s=r("1da1"),n=r("5530"),i=(r("96cf"),r("2708")),l=r("4cce"),c=r("2fa3"),u=r("2f62"),f={name:"TwittererFollowTable",mixins:[i["b"]],props:{initialData:{type:Object,required:!0}},data:function(){return{follower:this.initialData,status:{isProcessing:!1}}},computed:Object(n["a"])({},Object(u["b"])(["currentUser"])),methods:{followUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.status.isProcessing=!0,r.next=4,l["a"].followUser({userId:e});case 4:if(a=r.sent,o=a.data,"success"===o.status){r.next=8;break}throw new Error(o.message);case 8:t.follower.isFollowing=1,c["a"].fire({icon:"success",title:"追蹤成功！"}),t.$emit("after-add-follow-main",e),t.status.isProcessing=!1,r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),t.status.isProcessing=!1,c["a"].fire({icon:"error",title:"無法追蹤使用者，請稍後再試"});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},unfollowUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.status.isProcessing=!0,r.next=4,l["a"].unfollowUser({userId:e});case 4:if(a=r.sent,o=a.data,"success"===o.status){r.next=8;break}throw new Error(o.message);case 8:t.follower.isFollowing=0,c["a"].fire({icon:"success",title:"取消追蹤成功！"}),t.$emit("after-delete-follow-main",e),t.status.isProcessing=!1,r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),t.status.isProcessing=!1,c["a"].fire({icon:"error",title:"無法取消追蹤使用者，請稍後再試"});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()}}},d=f,w=(r("cded"),r("2877")),v=Object(w["a"])(d,a,o,!1,null,"3d1e5f28",null);t["a"]=v.exports}}]);
//# sourceMappingURL=chunk-9f8eee5e.ec31648c.js.map