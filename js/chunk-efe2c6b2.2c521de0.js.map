{"version":3,"sources":["webpack:///./src/views/UserProfileReply.vue?f1f5","webpack:///./src/components/TweetandReply.vue?c5c9","webpack:///./src/views/UserProfileReply.vue?b04c","webpack:///./src/components/TweetandReply.vue?7d7d","webpack:///src/components/TweetandReply.vue","webpack:///./src/components/TweetandReply.vue?210c","webpack:///./src/components/TweetandReply.vue?056a","webpack:///src/views/UserProfileReply.vue","webpack:///./src/views/UserProfileReply.vue?44cf","webpack:///./src/views/UserProfileReply.vue?460c","webpack:///./node_modules/core-js/modules/es.array.find.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","User","name","totalTweets","on","afterFormSubmit","afterDeleteFollowMain","afterAddFollowMain","id","replies","length","_v","_e","_l","reply","key","afterClickModal","modalContent","afterCreateReply","changeReplyCount","removeFollowId","addFollowId","afterAddFollow","afterDeleteFollow","staticRenderFns","params","data","UserId","_f","avatar","_s","account","createdAt","description","$event","preventDefault","stopPropagation","clickModalButton","totalReplies","class","activeLiked","isLiked","status","isProcessing","toggleLiked","totalLikes","content","mixins","props","initialData","type","Object","required","computed","methods","$emit","component","components","SideNavBar","RecFollowingList","TopNavBar","TweetandReply","TweetererImformation","TwittererNavPills","Spinner","TweetReplyModal","cover","bio","totalFollowings","totalFollowers","isFollowing","isLoading","created","fetchUser","userId","fetchReplies","beforeRouteUpdate","next","currentUser","map","tweetId","Replies","push","Date","totlaLikes","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-efe2c6b2.2c521de0.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileReply.vue?vue&type=style&index=0&id=1911b85d&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetandReply.vue?vue&type=style&index=0&id=5b556993&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container main-container\"},[_c('div',{staticClass:\"row\"},[_c('SideNavBar',{staticClass:\"col-3\"}),_c('div',{staticClass:\"col-5 p-0 border main-component\"},[_c('TopNavBar',{attrs:{\"msg\":_vm.User.name,\"show\":true,\"totalTweets\":_vm.User.totalTweets}}),_c('div',{staticClass:\"tweets-container\"},[_c('TweetererImformation',{attrs:{\"initial-user\":_vm.User},on:{\"after-form-submit\":_vm.afterFormSubmit,\"after-delete-follow-main\":_vm.afterDeleteFollowMain,\"after-add-follow-main\":_vm.afterAddFollowMain}}),_c('TwittererNavPills',{attrs:{\"initial-id\":_vm.User.id}}),(_vm.isLoading)?_c('Spinner'):[(_vm.replies.length < 1)?_c('div',{staticClass:\"noTweets\"},[_vm._v(\" 此用戶暫無推文與回覆 \")]):_vm._e(),_vm._l((_vm.replies),function(reply){return _c('TweetandReply',{key:reply.id,attrs:{\"initial-data\":reply},on:{\"after-click-modal\":_vm.afterClickModal}})}),_c('TweetReplyModal',{attrs:{\"target-tweet\":_vm.modalContent},on:{\"after-create-reply\":_vm.afterCreateReply,\"change-reply-count\":_vm.changeReplyCount}})]],2)],1),_c('div',{staticClass:\"col-4\"},[(_vm.isLoading)?_c('Spinner'):[_c('RecFollowingList',{attrs:{\"remove-follow-id\":_vm.removeFollowId,\"add-follow-id\":_vm.addFollowId},on:{\"after-add-follow\":_vm.afterAddFollow,\"after-delete-follow\":_vm.afterDeleteFollow}})]],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweetReply\"},[_c('router-link',{staticClass:\"tweet-link\",attrs:{\"to\":{ name:'tweet', params: { id: _vm.data.id } }}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"img-container\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-tweets', params: { id: _vm.data.UserId } }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.data.User.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"replyTarget\"})],1),_c('div',{staticClass:\"text-container mt-2 flex-grow-1\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"name d-inline-block pe-2\"},[_vm._v(_vm._s(_vm.data.User.name))]),_c('div',{staticClass:\"account d-inline-block\"},[_vm._v(_vm._s(_vm.data.User.account))]),_c('div',{staticClass:\"createdAt d-inline-block\"},[_vm._v(\" ・\"+_vm._s(_vm._f(\"fromNow\")(_vm.data.createdAt))+\" \")])]),_c('div',{staticClass:\"body mb-3\"},[_c('div',{staticClass:\"text me-3\"},[_vm._v(\" \"+_vm._s(_vm.data.description)+\" \")])]),_c('div',{staticClass:\"footer d-flex my-2\"},[_c('div',{staticClass:\"comment d-flex align-items-center me-5\"},[_c('div',{staticClass:\"btn comment-img\",attrs:{\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#tweetReplyModal\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.clickModalButton(_vm.data)}}}),_c('div',{staticClass:\"comments-count\"},[_vm._v(_vm._s(_vm.data.totalReplies))])]),_c('div',{staticClass:\"liked d-flex align-items-center\",class:{ activeLiked: _vm.data.isLiked === 1 }},[_c('button',{staticClass:\"btn liked-img\",attrs:{\"disabled\":_vm.status.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleLiked(_vm.data.id, 'tweet')}}}),_c('div',{staticClass:\"likes-count\"},[_vm._v(_vm._s(_vm.data.totalLikes))])])])])]),_vm._l((_vm.data.Replies),function(reply){return _c('div',{key:reply.id,staticClass:\"d-flex reply-card\"},[_c('div',{staticClass:\"img-container\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-tweets', params: { id: reply.User.id } }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":\"\"}})])],1),_c('div',{staticClass:\"text-container mt-2 flex-grow-1\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"name d-inline-block pe-2\"},[_vm._v(_vm._s(reply.User.name))]),_c('div',{staticClass:\"account d-inline-block\"},[_vm._v(_vm._s(reply.User.account))]),_c('div',{staticClass:\"createdAt d-inline-block\"},[_vm._v(\" ・\"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt))+\" \")])]),_c('div',{staticClass:\"body mb-3\"},[_c('div',{staticClass:\"text me-3\"},[_vm._v(\" \"+_vm._s(reply.content)+\" \")])])]),(reply.id)?_c('div',{staticClass:\"liked footer align-items-center d-flex my-2\",class:{ activeLiked: reply.isLiked === 1 }},[_c('button',{staticClass:\"flex-row btn liked-img\",attrs:{\"disabled\":_vm.status.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleLiked(reply.id, 'reply')}}})]):_vm._e()])}),_c('div',{staticClass:\"border-bottom\"})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tweetReply\">\n      <!-- Other User's Tweet -->\n    <router-link \n      :to=\"{ name:'tweet', params: { id: data.id } }\"\n      class=\"tweet-link\"\n    >\n    <div class=\"d-flex\">\n      <div class=\"img-container\">\n        <router-link\n          :to=\"{ name: 'user-tweets', params: { id: data.UserId } }\"\n        >\n          <img :src=\"data.User.avatar | emptyImage\" alt=\"\" />\n        </router-link>\n        <div class=\"replyTarget\"></div> \n      </div>\n\n      <div class=\"text-container mt-2 flex-grow-1\">\n        <div class=\"header\">\n          <div class=\"name d-inline-block pe-2\">{{data.User.name}}</div>\n          <div class=\"account d-inline-block\">{{ data.User.account }}</div>\n          <div class=\"createdAt d-inline-block\">\n            ・{{ data.createdAt | fromNow }}\n          </div>\n        </div>\n        <div class=\"body mb-3\">\n          <div class=\"text me-3\">\n            {{ data.description }}\n          </div>\n        </div>\n      <div class=\"footer d-flex my-2\">\n        <div class=\"comment d-flex align-items-center me-5\">\n          <div\n            class=\"btn comment-img\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#tweetReplyModal\"\n            @click.prevent.stop=\"clickModalButton(data)\"\n          ></div>\n          <div class=\"comments-count\">{{ data.totalReplies }}</div>\n        </div>\n\n        <div\n          class=\"liked d-flex align-items-center\"\n          :class=\"{ activeLiked: data.isLiked === 1 }\"\n        >\n          <button class=\"btn liked-img\" \n            @click.prevent.stop=\"toggleLiked(data.id, 'tweet')\"\n            :disabled=\"status.isProcessing\"\n          ></button>\n          <div class=\"likes-count\">{{ data.totalLikes }}</div>\n        </div>\n      </div>\n      </div>\n    </div>\n    <!-- User's Reply -->\n    <div class=\"d-flex reply-card\" v-for=\"reply in data.Replies\"\n            :key=\"reply.id\">\n      <div class=\"img-container\">\n        <router-link\n          :to=\"{ name: 'user-tweets', params: { id: reply.User.id } }\"\n        >\n          <img :src=\"reply.User.avatar | emptyImage\" alt=\"\" />\n        </router-link>\n      </div>\n\n      <div class=\"text-container mt-2 flex-grow-1\">\n        <div class=\"header\">\n          <div class=\"name d-inline-block pe-2\">{{ reply.User.name }}</div>\n          <div class=\"account d-inline-block\">{{ reply.User.account }}</div>\n          <div class=\"createdAt d-inline-block\">\n            ・{{ reply.createdAt | fromNow }}\n          </div>\n        </div>\n        <div class=\"body mb-3\">\n          <div class=\"text me-3\">\n            {{ reply.content }}\n          </div>\n        </div>\n      </div>\n      <div \n        v-if=\"reply.id\"\n        class=\"liked footer align-items-center d-flex my-2\"\n        :class=\"{ activeLiked: reply.isLiked === 1 }\"\n      >\n      <button class=\"flex-row btn liked-img\" \n          @click.prevent.stop=\"toggleLiked(reply.id, 'reply')\"\n          :disabled=\"status.isProcessing\"></button>\n      </div>\n    </div>\n    <div class=\"border-bottom\"></div>\n  </router-link>\n  </div>  \n</template>\n\n<script>\nimport { emptyImageFilter } from \"./../utils/mixins\"\nimport { daytimeFilter } from './../utils/mixins'\nimport { mapState } from 'vuex'\n\nimport tweetsAPI from \"./../apis/tweets\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  name: \"TweetsCard\",\n  mixins: [daytimeFilter, emptyImageFilter],\n  props: {\n    initialData: {\n      type: Object,\n      required: true,\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  data() {\n    return {\n      data: this.initialData,\n      status: {\n        isProcessing: false,\n      },\n    }\n  },\n  methods: {\n    clickModalButton(data) {\n      this.$emit(\"after-click-modal\", data);\n    },\n    async toggleLiked(id, target) {\n      try {\n        this.status.isProcessing = true;\n        // 當不是在單一推文頁面時：\n        if (target === 'tweet') {\n          if (this.data.isLiked === 0) {\n            const { data } = await tweetsAPI.likeTweet({ tweetId: id });\n            if (data.status !== \"success\") {\n              throw new Error(data.message);\n            }\n\n            this.data.totalLikes += 1;\n            this.data.isLiked = 1;\n            Toast.fire({\n              icon: \"success\",\n              title: data.message,\n            });\n          } else {\n            const { data } = await tweetsAPI.unlikeTweet({ tweetId: id });\n            if (data.status !== \"success\") {\n              throw new Error(data.message);\n            }\n            this.data.totalLikes -= 1;\n            this.data.isLiked = 0;\n\n            Toast.fire({\n              icon: \"success\",\n              title: data.message,\n            });\n          }\n        }\n        if (target === 'reply') {\n          const targetReply = this.data.Replies.find(reply => reply.id === id)\n          if (targetReply.isLiked === 0) {\n\n            const { data } = await tweetsAPI.likeReply({ replyId: id });\n            if (data.status !== \"success\") {\n              throw new Error(data.message);\n            }\n            targetReply.isLiked = 1\n\n            Toast.fire({\n              icon: \"success\",\n              title: data.message,\n            });\n          } else {\n            const { data } = await tweetsAPI.unlikeReply({ replyId: id });\n            if (data.status !== \"success\") {\n              throw new Error(data.message);\n            }\n            targetReply.isLiked = 0;\n\n            Toast.fire({\n              icon: \"success\",\n              title: data.message,\n            });\n          }\n        }\n        this.status.isProcessing = false;\n        this.$emit('after-toggle-like')\n      } catch (error) {\n        this.status.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: error.message,\n        });\n      }\n    },\n  }\n};\n</script>\n\n<style scoped>\n.tweetReply:hover {\n  background-color: #f7f7f7;\n}\n.name {\n    font-weight: 700;\n}\n.tweet-link {\n  text-decoration: none;\n  color: #000;\n}\n\n\n\n.img-container img {\n  height: 50px;\n  width: 50px;\n  object-fit: cover;\n  object-position: 50% 50%;\n  border-radius: 50%;\n  margin: 10px;\n}\n.comment-img {\n  background-image: url(./../assets/comment.png);\n  height: 12px;\n  width: 12px;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.header,\n.body {\n  font-size: 15px;\n}\n\n.text {\n  word-break: break-all;\n}\n\n.account,\n.createdAt,\n.footer,\n.replied-to {\n  color: #657786;\n}\n\n\n.replied-to span {\n  color: #ff6600;\n}\n\n.footer {\n  font-size: 13px;\n}\n\n.comment,\n.liked {\n  width: 50px;\n}\n\n.liked-img {\n  background-image: url(./../assets/isLiked.png);\n  height: 12px;\n  width: 12px;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.liked:hover .liked-img {\n  background-image: url(./../assets/isLiked-active.png);\n}\n\n.liked:hover .likes-count {\n  color: #e0245e;\n}\n\n.activeLiked .liked-img {\n  background-image: url(./../assets/isLiked-active.png);\n}\n\n.activeLiked .likes-count {\n  color: #e0245e;\n}\n.replyTarget {\n  position: relative;\n  left: 50%;\n  width: 2px;\n  transform: translateX(-50%);\n  height: calc(100% - 70px);\n  background-color: #ccd6dd;\n}\n.img-container::after {\n  position: relative;\n  left: 50%;\n  width: 2px;\n  transform: translateX(-50%);\n  background-color: #ccd6dd;\n}\n\n.footer {\n  font-size: 13px;\n}\n\n.comment,\n.liked {\n  width: 50px;\n  position: relative;\n  z-index: 0;\n}\n\n.comment::after {\n  content: '';\n  height: 25px; \n  width:25px;\n  background-color:#FF6600;\n  border-radius: 25px;\n  left: -5px;\n  position: absolute;\n  opacity: 0;\n  z-index: -1;\n}\n\n.comment:hover::after {\n  opacity: 0.2;\n}\n\n.liked-img {\n  background-image: url(./../assets/isLiked.png);\n  height: 12px;\n  width: 12px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  border: none;\n  box-shadow: none;\n}\n\n.liked::after {\n  content: '';\n  height: 25px; \n  width:25px;\n  background-color: #e0245e;\n  border-radius: 25px;\n  left: -5px;\n  position: absolute;\n  opacity: 0;\n  z-index: -1;\n}\n\n.liked:hover::after {\n  opacity: 0.2;\n}\n\n\n.liked:hover .likes-count {\n  color: #e0245e;\n}\n\n.activeLiked .liked-img {\n  background-image: url(./../assets/isLiked-active.png);\n}\n\n.activeLiked .likes-count {\n  color: #e0245e;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetandReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetandReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetandReply.vue?vue&type=template&id=5b556993&scoped=true&\"\nimport script from \"./TweetandReply.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetandReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetandReply.vue?vue&type=style&index=0&id=5b556993&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b556993\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container main-container\">\n    <div class=\"row\">\n      <SideNavBar class=\"col-3\" />\n      <div class=\"col-5 p-0 border main-component\">\n        <TopNavBar\n          :msg=\"User.name\"\n          :show=\"true\"\n          :totalTweets=\"User.totalTweets\"\n        />\n        <div class=\"tweets-container\">\n          <TweetererImformation\n            :initial-user=\"User\"\n            @after-form-submit=\"afterFormSubmit\"\n            @after-delete-follow-main=\"afterDeleteFollowMain\"\n            @after-add-follow-main=\"afterAddFollowMain\"\n          />\n          <TwittererNavPills :initial-id=\"User.id\" />\n          <Spinner v-if=\"isLoading\" />\n          <template v-else>\n            <div class=\"noTweets\" v-if=\"replies.length < 1\">\n              此用戶暫無推文與回覆\n            </div>\n            <TweetandReply\n              v-for=\"reply in replies\"\n              :key=\"reply.id\"\n              :initial-data=\"reply\"\n              @after-click-modal=\"afterClickModal\"\n            />\n            <TweetReplyModal\n              :target-tweet=\"modalContent\"\n              @after-create-reply=\"afterCreateReply\"\n              @change-reply-count=\"changeReplyCount\"\n            />\n          </template>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <Spinner v-if=\"isLoading\" />\n        <template v-else>\n          <RecFollowingList\n            @after-add-follow=\"afterAddFollow\"\n            @after-delete-follow=\"afterDeleteFollow\"\n            :remove-follow-id=\"removeFollowId\"\n            :add-follow-id=\"addFollowId\"\n          />\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideNavBar from \"../components/SideNavBar.vue\";\nimport RecFollowingList from \"../components/RecFollowingsList.vue\";\nimport TopNavBar from \"../components/TopNavBar.vue\";\nimport TweetererImformation from \"../components/TwittererInfomation.vue\";\nimport TwittererNavPills from \"../components/TwittererNavPills.vue\";\nimport TweetandReply from \"../components/TweetandReply.vue\";\nimport TweetReplyModal from \"../components/TweetReplyModal.vue\";\n\nimport tweetsAPI from \"../apis/tweets\";\nimport usersAPI from \"../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\n\nimport { mapState } from \"vuex\";\nimport Spinner from \"../components/Spinner.vue\";\n\nexport default {\n  name: \"UserProfileReply\",\n  components: {\n    SideNavBar,\n    RecFollowingList,\n    TopNavBar,\n    TweetandReply,\n    TweetererImformation,\n    TwittererNavPills,\n    Spinner,\n    TweetReplyModal,\n  },\n  data() {\n    return {\n      User: {\n        id: -1,\n        name: \"\",\n        account: \"\",\n        avatar: \"\",\n        cover: \"\",\n        bio: \"\",\n        totalFollowings: 0,\n        totalFollowers: 0,\n        totalTweets: 0,\n        isFollowing: 0,\n      },\n      replies: [],\n      removeFollowId: 0,\n      addFollowId: 0,\n      isLoading: true,\n      modalContent: {},\n    };\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.fetchUser(userId);\n    this.fetchReplies(userId);\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id: userId } = to.params;\n    this.fetchUser(userId);\n    this.fetchReplies(userId);\n    next();\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const { data } = await usersAPI.getUser({ userId });\n        const {\n          id,\n          account,\n          name,\n          bio,\n          avatar,\n          cover,\n          totalFollowers,\n          totalFollowings,\n          totalTweets,\n          isFollowing,\n        } = data;\n        this.User = {\n          ...this.User,\n          id,\n          name,\n          account,\n          avatar,\n          cover,\n          bio,\n          totalFollowers,\n          totalFollowings,\n          totalTweets,\n          isFollowing,\n        };\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得資料，請稍後再試。\",\n        });\n      }\n    },\n    async fetchReplies(userId) {\n      try {\n        const { data } = await tweetsAPI.getReply({ userId });\n\n        if (data.message === \"使用者沒有回覆任何推文\") {\n          this.replies = []\n          return;\n        }\n        this.replies = data;\n\n        // 排序\n        this.replies.sort((a, b) => {\n          const aDate = new Date(a.Replies[a.Replies.length - 1].createdAt);\n          const bDate = new Date(b.Replies[b.Replies.length - 1].createdAt);\n          return bDate.getTime() - aDate.getTime();\n        });\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"目前無法顯示回應，請稍後再試\",\n        });\n      }\n    },\n    async afterFormSubmit() {\n      const { id: userId } = this.$route.params;\n      await this.fetchUser(userId);\n      this.replies.map((reply) => {\n        if (reply.User.id === userId) {\n          reply.User = {\n            ...reply.User,\n            ...this.User,\n          };\n        }\n        reply.Replies.map((innerReply) => {\n          if (innerReply.User.id === userId) {\n            innerReply.User = {\n              ...innerReply,\n              ...this.User,\n            };\n          }\n        });\n      });\n    },\n    afterAddFollow(userId) {\n      // 在我自己以外的別人的主頁時：\n      if (this.User.id === userId) {\n        this.User.totalFollowers += 1;\n        this.User.isFollowing = 1;\n        return;\n      }\n      // 在我自己的主頁時。\n      if (this.currentUser.id === this.User.id) {\n        this.User.totalFollowings += 1;\n        return;\n      }\n      return;\n    },\n    afterAddFollowMain(userId) {\n      this.addFollowId = userId;\n    },\n    afterDeleteFollow(userId) {\n      // 當從右側點選的使用者與當前頁面的使用者相同時：\n      if (this.User.id === userId) {\n        this.User.totalFollowers -= 1;\n        this.User.isFollowing = 0;\n        return;\n      }\n      // 在我自己的主頁時。\n      if (this.currentUser.id === this.User.id) {\n        this.User.totalFollowings -= 1;\n        return;\n      }\n      return;\n    },\n    afterDeleteFollowMain(userId) {\n      this.removeFollowId = userId;\n    },\n    afterClickModal(data) {\n      this.modalContent = {\n        ...this.modalContent,\n        ...data,\n      };\n    },\n    afterCreateReply({ content, tweetId }) {\n      if (this.User.id === this.currentUser.id) {\n        this.replies.map((reply) => {\n          if (reply.id === tweetId) {\n            reply.Replies.push({\n              User: this.currentUser,\n              content,\n              createdAt: new Date(),\n              isLiked: 0,\n              totlaLikes: 0,\n            });\n          }\n        });\n      }\n    },\n    changeReplyCount(tweetId) {\n      this.replies.map((reply) => {\n        if (reply.id === tweetId) {\n          reply.totalReplies += 1;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.main-container {\n  height: 100%;\n  position: relative;\n}\n\n.main-component {\n  height: 100%;\n}\n\n.tweets-container {\n  height: calc(100% - 50px);\n  overflow: scroll;\n}\n\n.row {\n  height: 100%;\n}\n\n.noTweets {\n  text-align: center;\n  margin: 50px;\n  font-size: 13px;\n  color: #657786;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileReply.vue?vue&type=template&id=1911b85d&scoped=true&\"\nimport script from \"./UserProfileReply.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfileReply.vue?vue&type=style&index=0&id=1911b85d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1911b85d\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n"],"sourceRoot":""}